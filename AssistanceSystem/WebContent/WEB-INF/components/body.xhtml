<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3c.org/1999/xhtml"
            xmlns:h="http://xmlns.jcp.org/jsf/html"
            xmlns:p="http://primefaces.org/ui"
            xmlns:f="http://java.sun.com/jsf/core"
            xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<script name="jquery/jquery.js" library="primefaces"></script>
	<script src="script/dateTimeShape.js"></script>
	<link href="styles/dateTimeShape.css" type="text/css" rel="stylesheet"></link>
</h:head>

<h:form id="emergencyCallForm">
	<p:panel id="panel" header="New Emergency call">
	
	<p:messages id="msgs" />
	
	<h:panelGrid columns="3" cellpadding="5">
            <p:outputLabel for="name" value="Name:" />
            <p:inputText id="name" value="#{emergencyCallBean.emergencyCall.name}" style="width:100%" required="true" label="Name">
                <f:validateLength minimum="2" />
            </p:inputText>
            <p:message for="name" display="icon" />
            
        	<p:outputLabel for="datetime" value="Datetime:" />
        	<p:calendar id="datetime" value="#{emergencyCallBean.emergencyCall.time}" pattern="MM/dd/yyyy HH:mm:ss" style="width:100%" >
        	<f:validator validatorId="org.unibl.etf.validator.DateValidator" />
        	</p:calendar>
            <p:message for="datetime" display="icon" />
            
            <p:outputLabel for="location" value="Location:" />
            <p:inputText id="location" value="#{emergencyCallBean.emergencyCall.location}" style="width:100%" required="true" label="Location">
                <f:validateLength minimum="2" />
            </p:inputText>
            <p:message for="location" display="icon" />
            
            <p:outputLabel for="description" value="Description:" />
            <p:inputText id="description" value="#{emergencyCallBean.emergencyCall.description}" style="width:100%" required="true" label="Description">
                <f:validateLength minimum="2" />
            </p:inputText>
            <p:message for="description" display="icon" />
            
            <p:outputLabel for="pircutreURL" value="Picture(URL)" />
            <p:inputText id="pircutreURL" value="#{emergencyCallBean.emergencyCall.pircutreURL}" style="width:100%" required="true" label="Picture(URL)">
                <f:validateLength minimum="2" />
                <f:validator validatorId="org.unibl.etf.validator.PictureURLValidator" />
            </p:inputText>
            <p:message for="pircutreURL" display="icon" />
            
            <p:outputLabel for="emergencyCategoryId" value="Emergency category" />
			<p:selectOneMenu id="emergencyCategoryId" value="#{emergencyCallBean.emergencyCall.emergencyCategoryId}" required="true">
			<f:selectItems value="#{emergencyCallBean.emergencyCallCategoriesHashMap}"></f:selectItems>
			</p:selectOneMenu>
            <p:message for="emergencyCategoryId" display="icon" />          
 
        </h:panelGrid>
		<p:commandButton value="Submit" action="#{emergencyCallBean.addEmergencyCall}" icon="pi pi-check" style="width:30.5%;" update="emergencyCallForm" />
	</p:panel>
</h:form>

</html>